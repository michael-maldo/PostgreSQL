"use strict";(globalThis.webpackChunkpostgresql=globalThis.webpackChunkpostgresql||[]).push([[9801],{3180:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Docker/Intro","title":"Intro","description":"Introduction to Docker","source":"@site/docs/Docker/Intro.mdx","sourceDirName":"Docker","slug":"/Docker/Intro","permalink":"/docs/Docker/Intro","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"docker","permalink":"/docs/tags/docker"},{"inline":true,"label":"stop / start","permalink":"/docs/tags/stop-start"}],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Intro","description":"Introduction to Docker","tags":["docker","stop / start"]},"sidebar":"tutorialSidebar","previous":{"title":"Docker","permalink":"/docs/category/docker"},"next":{"title":"Docker Engine","permalink":"/docs/Docker/Docker Engine"}}');var i=t(4848),o=t(8453);const r={sidebar_position:1,title:"Intro",description:"Introduction to Docker",tags:["docker","stop / start"]},s="Intro",c={},l=[{value:"Ops",id:"ops",level:2},{value:"docker version",id:"docker-version",level:3},{value:"docker images",id:"docker-images",level:3},{value:"docker containers",id:"docker-containers",level:3},{value:"Exit container without terminating",id:"exit-container-without-terminating",level:3},{value:"Connecting to running containers",id:"connecting-to-running-containers",level:3},{value:"Stopping / Killing running containers",id:"stopping--killing-running-containers",level:3},{value:"Dev",id:"dev",level:2},{value:"clone an app from a Git repo",id:"clone-an-app-from-a-git-repo",level:3},{value:"inspect its Dockerfile",id:"inspect-its-dockerfile",level:3},{value:"containerize and run app container.",id:"containerize-and-run-app-container",level:3},{value:"retagging images",id:"retagging-images",level:3},{value:"Local",id:"local",level:2},{value:"set-up",id:"set-up",level:3},{value:".env",id:"env",level:4},{value:"Dockerfile",id:"dockerfile",level:4},{value:"building",id:"building",level:3},{value:"running",id:"running",level:3},{value:"interrogating",id:"interrogating",level:3},{value:"using a browser",id:"using-a-browser",level:4},{value:"using curl",id:"using-curl",level:4},{value:"connecting to the <code> myapp-backend </code> running container",id:"connecting-to-the--myapp-backend--running-container",level:4},{value:"cleaning up",id:"cleaning-up",level:3},{value:"new commands",id:"new-commands",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"intro",children:"Intro"})}),"\n",(0,i.jsxs)(e.p,{children:["This is a Docker introduction -- this assumes Docker is already installed in your machine",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(e.h2,{id:"ops",children:"Ops"}),"\n",(0,i.jsx)(e.h3,{id:"docker-version",children:"docker version"}),"\n",(0,i.jsx)(e.p,{children:"command to test that the client and daemon (server) are running and talking to each other"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:"\n// this shows client is talking to the server\n# highlight-next-line\n$ docker version\n\n# highlight-next-line\nClient:\n Version:           24.0.5\n API version:       1.43\n Go version:        go1.22.0\n Git commit:        %{shortcommit_cli}\n Built:             Sun Feb 11 23:35:47 2024\n OS/Arch:           linux/amd64\n Context:           default\n\n# highlight-next-line\nServer:\n Engine:\n  Version:          24.0.5\n  API version:      1.43 (minimum version 1.12)\n  Go version:       go1.22.0\n  Git commit:       %{shortcommit_moby}\n  Built:            Sun Feb 11 23:35:47 2024\n  OS/Arch:          linux/amd64\n  Experimental:     false\n containerd:\n  Version:          1.6.23\n  GitCommit:\n runc:\n  Version:          1.3.0\n  GitCommit:\n docker-init:\n  Version:          0.19.0\n  GitCommit:\n\n// stopping docker - shows server not running\n# highlight-next-line\n$ sudo systemctl stop docker.service docker.socket containerd\n\n# highlight-next-line\n@:~$ docker version\n\n# highlight-next-line\nClient:\n Version:           24.0.5\n API version:       1.43\n Go version:        go1.22.0\n Git commit:        %{shortcommit_cli}\n Built:             Sun Feb 11 23:35:47 2024\n OS/Arch:           linux/amd64\n Context:           default\n# highlight-next-line\nCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"docker-images",children:"docker images"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)("b",{children:"Docker image"})," is like an object that contains an OS filesystem, an application, and all application dependencies.",(0,i.jsx)("br",{}),"\nAn image gets its own ",(0,i.jsx)("b",{children:"unique ID"}),".",(0,i.jsx)("br",{}),"\nWhen referencing images, you can refer to them using either IDs or names."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:"// currently no images\n# highlight-next-line\n$ docker images\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\n\n// Getting images onto your Docker host is called pulling\n// sample pull of ubuntu image\n# highlight-next-line\n$ docker pull ubuntu:latest\nlatest: Pulling from library/ubuntu\n20043066d3d5: Pull complete\nDigest: sha256:c35e29c9450151419d9448b0fd75374fec4fff364a27f176fb458d472dfc9e54\nStatus: Downloaded newer image for ubuntu:latest\ndocker.io/library/ubuntu:latest\n\n// docker after pull - showing ubuntu image\n# highlight-next-line\n$ docker images\nREPOSITORY   TAG       IMAGE ID       CREATED        SIZE\nubuntu       latest    c3a134f2ace4   2 months ago   78.1MB\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"docker-containers",children:"docker containers"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)("b",{children:"docker run"})," command to launch a container from the ",(0,i.jsx)("b",{children:"ubuntu"})," image",(0,i.jsx)("br",{}),"\nThe ",(0,i.jsx)("b",{children:"-it"})," flags tell Docker",(0,i.jsx)("br",{}),"\nto make the container interactive",(0,i.jsx)("br",{}),"\nand to attach the current shell to the container\u2019s terminal",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:"// issuing some commands inside the running ubuntu image container\n# highlight-next-line\n$ docker run -it ubuntu:latest /bin/bash\nroot@a1bb606e08be:/#\nroot@a1bb606e08be:/#\nroot@a1bb606e08be:/# hostname\na1bb606e08be\nroot@a1bb606e08be:/# uname -a\nLinux a1bb606e08be 6.14.5-100.fc40.x86_64 #1 SMP PREEMPT_DYNAMIC Fri May  2 14:22:13 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux\nroot@a1bb606e08be:/# date\nWed Dec 31 13:57:37 UTC 2025\nroot@a1bb606e08be:/# whoami\nroot\nroot@a1bb606e08be:/# ps\n    PID TTY          TIME CMD\n      1 pts/0    00:00:00 bash\n     13 pts/0    00:00:00 ps\nroot@a1bb606e08be:/#\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"exit-container-without-terminating",children:"Exit container without terminating"}),"\n",(0,i.jsxs)(e.p,{children:["Press ",(0,i.jsx)("b",{children:"Ctrl-PQ"})," to exit the container without terminating it. ",(0,i.jsx)("br",{}),"\nExit from the container without killing it. ",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("b",{children:"docker ps"})," command - to see all running containers ",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:'\n// docker ps showing active running containers\n// below showing the ubuntu image container running - 26 minutes\n$ docker ps\nCONTAINER ID   IMAGE           COMMAND       CREATED          STATUS          PORTS     NAMES\n# highlight-next-line\na1bb606e08be   ubuntu:latest   "/bin/bash"   26 minutes ago   Up 26 minutes             youthful_vaughan\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"connecting-to-running-containers",children:"Connecting to running containers"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:"// using CONTAINER NAME\n$ docker exec -it youthful_vaughan bash\nroot@a1bb606e08be:/#\nroot@a1bb606e08be:/# read escape sequence\n$\n\n// using CONTAINER ID\n$ docker exec -it a1bb606e08be bash\nroot@a1bb606e08be:/#\nroot@a1bb606e08be:/#\nroot@a1bb606e08be:/# read escape sequence\n$\n$\n\n// using shortcut - first few characters unique part of the CONTAINER ID\n// as long as it is unique\n$ docker exec -it a1 bash\nroot@a1bb606e08be:/#\nroot@a1bb606e08be:/# read escape sequence\n$\n$\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"stopping--killing-running-containers",children:"Stopping / Killing running containers"}),"\n",(0,i.jsxs)(e.p,{children:["Stop the container and kill it ",(0,i.jsx)("br",{}),"\nusing the ",(0,i.jsx)("b",{children:"docker stop CONTAINER_ID | NAME"})," -- to stop a running container",(0,i.jsx)("br",{}),"\nand ",(0,i.jsx)("b",{children:"docker rm CONTAINER_ID | NAME"})," command to remove a container -- only after it has stopped",(0,i.jsx)("br",{}),"\nsubstitute the names/IDs of the containers.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["After container is stopped",(0,i.jsx)("br",{}),"\nRemove Images you want deleted",(0,i.jsx)("br",{}),"\nUse ",(0,i.jsxs)("b",{children:["docker rmi REPOSITORY[",":TAG","] | IMAGE_ID"]}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:'// check running containers\n$ docker ps\nCONTAINER ID   IMAGE           COMMAND       CREATED             STATUS             PORTS     NAMES\na1bb606e08be   ubuntu:latest   "/bin/bash"   About an hour ago   Up About an hour             youthful_vaughan\n$\n\n// unsuccessful removal of still running container\n$ docker rm a1bb606e08be\nError response from daemon: You cannot remove a running container a1bb606e08bedc6a05b8696f08d7790763baa60426d7220359d5115bb860af45. Stop the container before attempting removal or force remove\n$\n$\n\n// stoping a running container\n$ docker stop a1bb606e08be\na1bb606e08be\n$\n\n// docker ps  -- show container removed from the list\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n\n// docker ps -a -- still showing container\n$ docker ps -a\nCONTAINER ID   IMAGE           COMMAND       CREATED             STATUS                        PORTS     NAMES\na1bb606e08be   ubuntu:latest   "/bin/bash"   About an hour ago   Exited (137) 22 seconds ago             youthful_vaughan\n$\n\n// safe - successful removal of a stopped container\n$ docker rm a1bb606e08be\na1bb606e08be\n$\n$ docker ps -a\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n$\n$ docker images\nREPOSITORY   TAG       IMAGE ID       CREATED        SIZE\nubuntu       latest    c3a134f2ace4   2 months ago   78.1MB\n$\n$\n\n// image can be removed only after the container is stopped / removed\n$ docker rmi ubuntu\nUntagged: ubuntu:latest\nUntagged: ubuntu@sha256:c35e29c9450151419d9448b0fd75374fec4fff364a27f176fb458d472dfc9e54\nDeleted: sha256:c3a134f2ace4f6d480733efcfef27c60ea8ed48be1cd36f2c17ec0729775b2c8\nDeleted: sha256:e8bce0aabd687e9ee90e0bada33884f40b277196f72aac9934357472863a80ae\n$\n\n\n'})}),"\n",(0,i.jsx)(e.h2,{id:"dev",children:"Dev"}),"\n",(0,i.jsx)(e.h3,{id:"clone-an-app-from-a-git-repo",children:"clone an app from a Git repo"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:"\n$ git clone https://github.com/nigelpoulton/psweb.git\nCloning into 'psweb'...\nremote: Enumerating objects: 63, done.\nremote: Counting objects: 100% (34/34), done.\nremote: Compressing objects: 100% (22/22), done.\nremote: Total 63 (delta 13), reused 25 (delta 9), pack-reused 29\nReceiving objects: 100% (63/63), 13.29 KiB | 4.43 MiB/s, done.\nResolving deltas: 100% (21/21), done.\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"inspect-its-dockerfile",children:"inspect its Dockerfile"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="bash"',children:'\n$ cd psweb\n$ ls -l\ntotal 40\n-rw-r--r--@ 1 ubuntu ubuntu\n-rw-r--r--@ 1 ubuntu ubuntu\n-rw-r--r--@ 1 ubuntu ubuntu\n-rw-r--r-- 1 ubuntu ubuntu\n-rw-r--r--@ 1 ubuntu ubuntu\ndrwxr-xr-x 4 ubuntu ubuntu\ndrwxr-xr-x 3 ubuntu ubuntu\n338 24 Apr 19:29 Dockerfile\n396 24 Apr 19:32 README.md\n341 24 Apr 19:29 app.js\n216 24 Apr 19:29 circle.yml\n377 24 Apr 19:36 package.json\n128 24 Apr 19:29 test\n96 24 Apr 19:29 views\n\n$ cat Dockerfile\nFROM alpine\nLABEL maintainer="nigelpoulton@hotmail.com"\nRUN apk add --update nodejs nodejs-npm\nCOPY . /src\nWORKDIR /src\nRUN npm install\nEXPOSE 8080\nENTRYPOINT ["node", "./app.js"]\n\n\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"containerize-and-run-app-container",children:"containerize and run app container."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\n$ docker build -t test:latest .\n[+] Building 36.2s (11/11) FINISHED\n=> [internal] load .dockerignore\n=> => transferring context: 2B\n=> [internal] load build definition from Dockerfile\n<Snip>\n=> => naming to docker.io/library/test:latest\n=> => unpacking to docker.io/library/test:latest\n0.0s\n0.0s\n0.0s\n0.0s\n0.7s\n\n$ docker images\nREPO\nTAG\ntest\nlatest\nIMAGE ID\n1ede254e072b\nCREATED\n7 seconds ago\nSIZE\n154MB\n\n$ docker run -d \\\n--name web1 \\\n--publish 8080:8080 \\\ntest:latest\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"retagging-images",children:"retagging images"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sh",metastring:'title="bash"',children:"docker images\nREPOSITORY                        TAG       IMAGE ID       SIZE\ngnostex-backend-api                latest    def456\ngnostex-backend-api                abc123    abc123\n\ndocker tag abc123 gnostex-backend-api:latest\n\ndocker images\nREPOSITORY                        TAG       IMAGE ID       SIZE\ngnostex-backend-api                latest    abc123\ngnostex-backend-api                def456    def456\ngnostex-backend-api                abc123    abc123\n\n// Remove old latest tag reference\ndocker rmi gnostex-backend-api:latest\n\n// Tags are just labels, not copies of images.\n// You can move tags freely \u2014 this is how you can roll back latest to a previous build.\n// Useful for manual rollback on VPS:\n\ndocker stop gnostex-backend-api\ndocker rm gnostex-backend-api\ndocker tag abc123 gnostex-backend-api:latest\ndocker run -d --name gnostex-backend-api -p 8080:8080 gnostex-backend-api:latest\n"})}),"\n",(0,i.jsx)(e.h2,{id:"local",children:"Local"}),"\n",(0,i.jsxs)(e.p,{children:["This example shows a basic local setup using ",(0,i.jsx)(e.strong,{children:"Spring Boot"}),", ",(0,i.jsx)(e.strong,{children:"PostgreSQL"}),", and ",(0,i.jsx)(e.strong,{children:"Docker"}),".",(0,i.jsx)("br",{}),"\nThe Spring Boot application runs inside a Docker container and connects to a local PostgreSQL database."]}),"\n",(0,i.jsx)(e.h3,{id:"set-up",children:"set-up"}),"\n",(0,i.jsx)(e.h4,{id:"env",children:".env"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",metastring:'title="[root project directory]/.env"',children:"DB_USERNAME=gnostex\nDB_PASSWORD=gnostex\nDB_URL=jdbc:postgresql://host.docker.internal:5432/gnostexdb\nSPRING_PROFILES_ACTIVE=dev\n"})}),"\n",(0,i.jsx)(e.h4,{id:"dockerfile",children:"Dockerfile"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-docker",metastring:'title="[root project directory]/Dockerfile"',children:'# =========================\n# Build stage\n# =========================\nFROM maven:3.9.9-eclipse-temurin-21 AS build\nWORKDIR /app\n\nCOPY pom.xml .\nRUN mvn dependency:go-offline\n\nCOPY src ./src\nRUN mvn -B -Dmaven.test.skip=true clean package\n\n\n\n# =========================\n# Runtime stage\n# =========================\nFROM eclipse-temurin:21-jre\nWORKDIR /app\n\n# add curl\nRUN apt-get update && apt-get install -y curl && rm -rf /var/lib/apt/lists/*\n\n# Copy jar from build stage\nCOPY --from=build /app/target/gnostex-backend-api-0.0.1-SNAPSHOT.jar app.jar\n\n# Copy source and target for exploration\n# Comment out in production\n#COPY --from=build /app/src ./src\n#COPY --from=build /app/target ./target\n#COPY --from=build /app/pom.xml ./pom.xml\n\n\n# App port\nEXPOSE 8080\n\n# Optional JVM tuning (safe defaults)\nENV JAVA_OPTS=""\n\n# health check\nHEALTHCHECK --interval=30s --timeout=5s --start-period=20s \\\n  CMD curl -f http://localhost:8080/actuator/health || exit 1\n\n# Run Spring Boot\nENTRYPOINT ["sh","-c","java $JAVA_OPTS -jar /app/app.jar"]\n'})}),"\n",(0,i.jsx)(e.h3,{id:"building",children:"building"}),"\n",(0,i.jsxs)(e.p,{children:["run the docker command to build the image.",(0,i.jsx)("br",{}),"\nuse the -t option to name en image and version label.",(0,i.jsx)("br",{}),"\npoint the command where [path] to the Dockerfile location",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="[root project directory]/ "',children:"// -t tag -- this will set the name of the image / version label\n// [.] -- the directory contain the Dockerfile\n\ndocker build -t gnostex-api:local .\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Use ",(0,i.jsx)(e.code,{children:"docker images"})," to list all Docker images available on your local machine. ",(0,i.jsx)("br",{}),"\nStarted with empty list, build, then we have ",(0,i.jsx)(e.code,{children:"myapp:local"})," listed in the local machine."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title="sample output"',children:"$ docker images\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\n\n\n$ docker build -t myapp:local .\nSending build context to Docker daemon  140.8kB\nStep 1/14 : FROM maven:3.9.9-eclipse-temurin-21 AS build\n3.9.9-eclipse-temurin-21: Pulling from library/maven\nd9d352c11bbd: Pull complete\n380ab39b4f9f: Pull complete\n.\n.\n.\n.\nSuccessfully tagged myapp:local\n\n\n$ docker images\nREPOSITORY        TAG                        IMAGE ID       CREATED              SIZE\nmyapp             local                      ec2be4ef4307   32 seconds ago       347MB\n<none>            <none>                     d1f20d771af3   About a minute ago   777MB\neclipse-temurin   21-jre                     2e463b829a56   7 weeks ago          287MB\nmaven             3.9.9-eclipse-temurin-21   4efe8769cc32   16 months ago        530MB\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"running",children:"running"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"\n$ docker run \\\n--name myapp-backend \\\n--env-file .env \\\n-p 8080:8080 \\\n--add-host=host.docker.internal:host-gateway  \\\nmyapp:local\n\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n\n :: Spring Boot ::                (v3.5.9)\n\n2026-01-07T07:32:56.038Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [           main] PostgresqlDockerGithubactionsApplication : Starting SpringbootPostgresqlDockerGithubactionsApplication v0.0.1-SNAPSHOT using Java 21.0.9 with PID 7 (/app/app.jar started by root in /app)\n2026-01-07T07:32:56.041Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [           main] PostgresqlDockerGithubactionsApplication : The following 1 profile is active: \"dev\"\n2026-01-07T07:32:57.028Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2026-01-07T07:32:57.053Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA reposito\n.\n.\n.\n.\n2026-01-07T07:33:25.226Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2026-01-07T07:33:25.227Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2026-01-07T07:33:25.228Z  INFO 7 --- [springboot-postgresql-docker-githubactions] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",metastring:'title=" # from another terminal"',children:'$ docker ps\nCONTAINER ID   IMAGE         COMMAND                  CREATED              STATUS                        PORTS                                       NAMES\n818a93282e59   myapp:local   "sh -c \'java $JAVA_O\u2026"   About a minute ago   Up About a minute (healthy)   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   myapp-backend\n\n$ docker ps -a\nCONTAINER ID   IMAGE         COMMAND                  CREATED         STATUS                   PORTS                                       NAMES\n818a93282e59   myapp:local   "sh -c \'java $JAVA_O\u2026"   2 minutes ago   Up 2 minutes (healthy)   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   myapp-backend\n'})}),"\n",(0,i.jsx)(e.h3,{id:"interrogating",children:"interrogating"}),"\n",(0,i.jsx)(e.h4,{id:"using-a-browser",children:"using a browser"}),"\n",(0,i.jsx)(e.p,{children:"just point your browser to the local URL"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\nhttp://localhost:8080/actuator/health\n\n"})}),"\n",(0,i.jsx)(e.h4,{id:"using-curl",children:"using curl"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"curl with jq -- a commandline JSON processor, used here to prettify JSON"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'$ curl http://localhost:8080/actuator/health | jq\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   342    0   342    0     0  61301      0 --:--:-- --:--:-- --:--:-- 68400\n{\n  "status": "UP",\n  "components": {\n    "db": {\n      "status": "UP",\n      "details": {\n        "database": "PostgreSQL",\n        "validationQuery": "isValid()"\n      }\n    },\n    "diskSpace": {\n      "status": "UP",\n      "details": {\n        "total": 603861286912,\n        "free": 464497238016,\n        "threshold": 10485760,\n        "path": "/app/.",\n        "exists": true\n      }\n    },\n    "ping": {\n      "status": "UP"\n    },\n    "ssl": {\n      "status": "UP",\n      "details": {\n        "validChains": [],\n        "invalidChains": []\n      }\n    }\n  }\n}\n\n\n'})}),"\n",(0,i.jsxs)(e.h4,{id:"connecting-to-the--myapp-backend--running-container",children:["connecting to the ",(0,i.jsx)(e.code,{children:" myapp-backend "})," running container"]}),"\n",(0,i.jsx)(e.p,{children:"issuing commands inside the shell."}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["use ",(0,i.jsx)(e.code,{children:"docker ps"})," to check images that are running"]}),"\n",(0,i.jsxs)(e.li,{children:["once you have identified the container you wanted to connect to",(0,i.jsx)("br",{}),"\nissue ",(0,i.jsx)(e.code,{children:" docker -exec -it [cotaniner id]|[name] sh"}),(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.code,{children:"-exec"})," used to issued command to a running cotainer",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.code,{children:"-it"})," interactive with tty allocated",(0,i.jsx)("br",{})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'\n$ docker ps\nCONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS                    PORTS                                       NAMES\n818a93282e59   myapp:local   "sh -c \'java $JAVA_O\u2026"   31 minutes ago   Up 30 minutes (healthy)   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   myapp-backend\n\n\n$ docker exec -it myapp-backend sh\n# hostname\n818a93282e59\n# uname -a\nLinux 818a93282e59 6.14.5-100.fc40.x86_64 #1 SMP PREEMPT_DYNAMIC Fri May  2 14:22:13 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux\n# date\nWed Jan  7 07:57:15 AM UTC 2026\n# pwd\n/app\n# ls\napp.jar\n# ps -ef\nUID          PID    PPID  C STIME TTY          TIME CMD\nroot           1       0  0 07:32 ?        00:00:00 sh -c java $JAVA_OPTS -jar /app/app.jar\nroot           7       1  1 07:32 ?        00:00:29 java -jar /app/app.jar\nroot         405       0  0 07:56 pts/0    00:00:00 sh\nroot         411       0  0 07:56 pts/1    00:00:00 sh\nroot         417       0  0 07:56 pts/2    00:00:00 sh\nroot         430       0  0 07:57 pts/3    00:00:00 sh\nroot         449     430  0 07:57 pts/3    00:00:00 ps -ef\n#\n\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"cleaning-up",children:"cleaning up"}),"\n",(0,i.jsx)(e.p,{children:"resetting and clearing all containers / images"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'// checking available images locally\n$ docker images\nREPOSITORY   TAG       IMAGE ID       CREATED          SIZE\nmyapp        local     ec2be4ef4307   58 minutes ago   347MB\n$\n\n// trying to remove an image that is currently being used by a container\n$ docker rmi myapp:local\nError response from daemon: conflict: unable to remove repository reference "myapp:local" (must force) - container 818a93282e59 is using its referenced image ec2be4ef4307\n$\n$\n\n// using docker ps command check running container\n$ docker ps\nCONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS                    PORTS                                       NAMES\n818a93282e59   myapp:local   "sh -c \'java $JAVA_O\u2026"   47 minutes ago   Up 47 minutes (healthy)   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   myapp-backend\n\n// docker ps -a give a list of all containers, running or exited (but still being referenced)\n$ docker ps -a\nCONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS                    PORTS                                       NAMES\n818a93282e59   myapp:local   "sh -c \'java $JAVA_O\u2026"   48 minutes ago   Up 48 minutes (healthy)   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   myapp-backend\n$\n$\n\n// stopping ` myapp-backend ` container\n$ docker stop myapp-backend\nmyapp-backend\n\n// ` docker ps ` now showing NO RUNNING CONTAINER after ` myapp-backend ` was stopped\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n\n// attempt to remove the image ` myapp:local ` - failed since image is still being refrenced\n$ docker rmi myapp:local\nError response from daemon: conflict: unable to remove repository reference "myapp:local" (must force) - container 818a93282e59 is using its referenced image ec2be4ef4307\n$\n$\n\n// ` docker ps -a ` show image ` myapp:local ` though stopped still is being referenced inside the ` myapp-backend `\n$ docker ps -a\nCONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS                        PORTS     NAMES\n818a93282e59   myapp:local   "sh -c \'java $JAVA_O\u2026"   48 minutes ago   Exited (137) 23 seconds ago             myapp-backend\n$\n$\n\n// removing the container myapp-backend -- only possible if container is stopped\n$ docker rm myapp-backend\nmyapp-backend\n\n// `docker ps -a` now shows no container refrenced\n$ docker ps -a\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n\n// image can be successfully removed when no container is refrencing the image\n$ docker rmi myapp:local\nUntagged: myapp:local\nDeleted: sha256:ec2be4ef4307d65aceb931586183105f1ed9537448db6b18558383af9a422663\nDeleted: sha256:89452ae547988b560a19473531cda7e55b04d9d34aa82a64780bce22f561c314\nDeleted: sha256:f4175ef030810f3647908804414a9155668a9ebb74103c841886d087c999340f\nDeleted: sha256:086485045b5f8766321d6002b2dba8b6ee5ddec6770fdcf23e684dfd3166e431\nDeleted: sha256:232fab3b6c7e9e6d7c3f7375bb3143ad5678a901d259228d104ab2a0c6d41c23\nDeleted: sha256:341305565a59d36f93f5edd507e3ea5f58eb393ea190c0baced61fd3a8ba1398\nDeleted: sha256:9df867464039faa8eebe54a8cc77e2f341613ca37ad601008c4b4216eee6c701\nDeleted: sha256:08c45221a1cf843bb6fec6b69f6573b8c05737728730fba0916fae3d4f5c67d4\nDeleted: sha256:43f7baff39c3f938d19119029caad63a0fabc466c43fa9472b7894b6153942a2\nDeleted: sha256:ae0fbfcdfa70a5b6f6b31867ad9a22cbf4a4dfb6ce28077f31eb1ea88680ca60\nDeleted: sha256:2e463b829a56f5f3a69c181b83f2cbb2a56b90df555c213716d5b3811f956be1\nDeleted: sha256:cb77dbe80adb5684fcee23d66bc899144981bc872391747f5a28e536a50d4544\nDeleted: sha256:f796d3d2f8f2f8ef58906298c82b320f4f3139c377dd76c60457ba11e17fd854\nDeleted: sha256:e30ce81b4172b4bbe85d45ab2863986ac77a511d8f5b2ee52c27347617865f6a\nDeleted: sha256:5ff83b5d3260c90aedc2781a761c6c1acbb82458be88f092b15788eafcb35db4\nDeleted: sha256:e8bce0aabd687e9ee90e0bada33884f40b277196f72aac9934357472863a80ae\n$\n\n// below commands shows local docker\n// no images\n// no container process running\n// no referenced docker images\n$ docker images\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\n$\n$ docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n$\n$\n$ docker ps -a\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n$\n$\n\n'})}),"\n",(0,i.jsx)(e.h2,{id:"new-commands",children:"new commands"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'docker events  --- see docker restarts, kills, exits in real time. <br/>\ndocker logs -f gnostex-backend -- equivalent of tail -f logs <br/>\ndocker run -d --rm  --name gnostex-backend-api --add-host=host.docker.internal:host-gateway  -p 8080:8080  -e SPRING_PROFILES_ACTIVE=dev  -e DB_URL=jdbc:postgresql://host.docker.internal:5432/gnostexdb  -e DB_USERNAME=gnostex  -e DB_PASSWORD=gnostex  gnostex-backend-api <br/>\n--add-host=host.docker.internal:host-gateway -- Map host.docker.internal to the Linux host<br/>\ntry running postgresql also as a container <br/>\ndocker build -t gnostex-backend-api . -- docker build <br/>\ndocker run -it --rm  --entrypoint sh  gnostex-backend-api  -- for exploring the image<br/>\ncurl -f http://localhost:8080/actuator/health\n\n{"status":"UP","components":{"db":{"status":"UP","details":{"database":"PostgreSQL","validationQuery":"isValid()"}},"diskSpace":{"status":"UP","details":{"total":206900281344,"free":195738656768,"threshold":10485760,"path":"/app/.","exists":true}},"ping":{"status":"UP"},"ssl":{"status":"UP","details":{"validChains":[],"invalidChains":[]}}}}\n\ndocker inspect\ndocker inspect --format=\'{{.State.Health.Status}}\' gnostex-backend-api\n'})})]})}function p(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>s});var a=t(6540);const i={},o=a.createContext(i);function r(n){const e=a.useContext(o);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),a.createElement(o.Provider,{value:e},n.children)}}}]);