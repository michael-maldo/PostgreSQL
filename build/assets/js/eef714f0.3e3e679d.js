"use strict";(globalThis.webpackChunkpostgresql=globalThis.webpackChunkpostgresql||[]).push([[7373],{8320:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"advanced/psql - meta commands","title":"psql meta commands","description":"slash commands","source":"@site/docs/advanced/psql - meta commands.md","sourceDirName":"advanced","slug":"/advanced/psql - meta commands","permalink":"/docs/advanced/psql - meta commands","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Docker","permalink":"/docs/advanced/docker"},"next":{"title":"my hello page title","permalink":"/docs/test"}}');var l=n(4848),t=n(8453);const i={sidebar_position:3},c="psql meta commands",r={},d=[{value:"tips and caveats",id:"tips-and-caveats",level:2},{value:"make sure to use \\ (back slash) not! / (forward slash)",id:"make-sure-to-use--back-slash-not--forward-slash",level:3},{value:"sql commands ends with semicolon ;",id:"sql-commands-ends-with-semicolon-",level:3},{value:"set search_path",id:"set-search_path",level:3},{value:"you can use -- to write comments in sql",id:"you-can-use----to-write-comments-in-sql",level:3},{value:"connection",id:"connection",level:2},{value:"show current connection",id:"show-current-connection",level:3},{value:"connect to a database",id:"connect-to-a-database",level:3},{value:"db",id:"db",level:2},{value:"list available databases",id:"list-available-databases",level:3},{value:"schema",id:"schema",level:2},{value:"show available schemas in current db connection",id:"show-available-schemas-in-current-db-connection",level:3},{value:"relations",id:"relations",level:2},{value:"psql run sql scripts from a file",id:"psql-run-sql-scripts-from-a-file",level:2},{value:"sql script files",id:"sql-script-files",level:3},{value:"from the shell",id:"from-the-shell",level:4},{value:"from inside psql - path settings/searching apply",id:"from-inside-psql---path-settingssearching-apply",level:4},{value:"issue command line from inside psql",id:"issue-command-line-from-inside-psql",level:4}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"psql-meta-commands",children:"psql meta commands"})}),"\n",(0,l.jsx)(s.p,{children:"slash commands"}),"\n",(0,l.jsx)(s.h2,{id:"tips-and-caveats",children:"tips and caveats"}),"\n",(0,l.jsx)(s.h3,{id:"make-sure-to-use--back-slash-not--forward-slash",children:"make sure to use \\ (back slash) not! / (forward slash)"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"\\meta_command\n"})}),"\n",(0,l.jsx)(s.h3,{id:"sql-commands-ends-with-semicolon-",children:"sql commands ends with semicolon ;"}),"\n",(0,l.jsx)(s.p,{children:'; tells the SQL client  "Execute this SQL statement."'}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"SELECT * FROM tablename;\n"})}),"\n",(0,l.jsx)(s.h3,{id:"set-search_path",children:"set search_path"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"SET SEARCH_PATH TO schema1, schema2;\nSHOW SEARCH_PATH;\n"})}),"\n",(0,l.jsx)(s.h3,{id:"you-can-use----to-write-comments-in-sql",children:"you can use -- to write comments in sql"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"-- this is a comment, everything is treated as comment until end of the line\n"})}),"\n",(0,l.jsx)(s.h2,{id:"connection",children:"connection"}),"\n",(0,l.jsx)(s.h3,{id:"show-current-connection",children:"show current connection"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"\\conninfo\n"})}),"\n",(0,l.jsx)(s.h3,{id:"connect-to-a-database",children:"connect to a database"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"\\c dbname\n"})}),"\n",(0,l.jsx)(s.h2,{id:"db",children:"db"}),"\n",(0,l.jsx)(s.h3,{id:"list-available-databases",children:"list available databases"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"\\l\n"})}),"\n",(0,l.jsx)(s.h2,{id:"schema",children:"schema"}),"\n",(0,l.jsx)(s.h3,{id:"show-available-schemas-in-current-db-connection",children:"show available schemas in current db connection"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"-- list schemas available in current db\n\\dn\n\n-- search_path control which schema(s) PostgreSQL looks in first\n-- without setting search_path ( defaults to public schema )\nSELECT * myschema.mytable ; \n\n-- when search_path set to myschema\n-- no need to specify schema in the query\nSELECT * FROM mytable;\n\n\n-- set search_path\nSET SEARCH_PATH TO schema_name1, schema_name2;\n\n-- show current search_path settings\nSHOW SEARCH_PATH;\n"})}),"\n",(0,l.jsx)(s.h2,{id:"relations",children:"relations"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"-- list all relations in a a search path\n\\d\n\\dt\n\\dt+\n\n-- desbcribe all relation's - columns, types\n\\d schema_name.*\n\\d schema_name.table_name\n\n-- describe all relations in all schema in current db\n\\d *.*\n\n-- output can be redirected to a file\n\\o outfile.txt\n-- reset output to psql terminal\n\\o\n"})}),"\n",(0,l.jsx)(s.h2,{id:"psql-run-sql-scripts-from-a-file",children:"psql run sql scripts from a file"}),"\n",(0,l.jsx)(s.h3,{id:"sql-script-files",children:"sql script files"}),"\n",(0,l.jsx)(s.p,{children:"can contain both sql and psql metacommands"}),"\n",(0,l.jsx)(s.h4,{id:"from-the-shell",children:"from the shell"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"psql -f scripts.sql\n"})}),"\n",(0,l.jsx)(s.h4,{id:"from-inside-psql---path-settingssearching-apply",children:"from inside psql - path settings/searching apply"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:'title="sql"',children:"\\i scripts.sql\n"})}),"\n",(0,l.jsx)(s.h4,{id:"issue-command-line-from-inside-psql",children:"issue command line from inside psql"}),"\n",(0,l.jsx)(s.p,{children:"This executes pwd in the shell, not inside PostgreSQL."}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-jsx",metastring:"title='sql'",children:"-- psql internal command to change directory\n-- this is useful when using \\i, executes sql in a file\n\\cd\n\n-- executes linux command from inside psql\n-- confirms cd has been perfomed\n\\! pwd\n\n-- check files available in current directory\n\\! ls\n\\1 ls -l\n\n"})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var a=n(6540);const l={},t=a.createContext(l);function i(e){const s=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),a.createElement(t.Provider,{value:s},e.children)}}}]);