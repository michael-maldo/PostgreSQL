"use strict";(globalThis.webpackChunkpostgresql=globalThis.webpackChunkpostgresql||[]).push([[802],{108:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"basics/sql - intro","title":"sql - intro","description":"Initialize basicsdb Database","source":"@site/docs/basics/sql - intro.md","sourceDirName":"basics","slug":"/basics/sql - intro","permalink":"/docs/basics/sql - intro","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"basics","permalink":"/docs/category/basics"},"next":{"title":"advanced","permalink":"/docs/category/advanced"}}');var a=n(4848),s=n(8453);const c={sidebar_position:1},r="sql - intro",o={},l=[{value:"Initialize basicsdb Database",id:"initialize-basicsdb-database",level:2},{value:"add basics schema",id:"add-basics-schema",level:2},{value:"2.3. Creating a New Table",id:"23-creating-a-new-table",level:2},{value:"2.4. Populating a Table With Rows",id:"24-populating-a-table-with-rows",level:2},{value:"2.5. Querying a Table",id:"25-querying-a-table",level:2},{value:"2.4. Populating a Table With Rows",id:"24-populating-a-table-with-rows-1",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"sql---intro",children:"sql - intro"})}),"\n",(0,a.jsx)(t.h2,{id:"initialize-basicsdb-database",children:"Initialize basicsdb Database"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-agsl",children:"drop database if exists basicsdb; -- if db exists, drop it first\n\ncreate database basicsdb;\n\\c basicsdb\n"})}),"\n",(0,a.jsx)(t.h2,{id:"add-basics-schema",children:"add basics schema"}),"\n",(0,a.jsx)(t.p,{children:"create schema if not exists basics;\nset search_path to basics, public;\nshow search_path;"}),"\n",(0,a.jsx)(t.h2,{id:"23-creating-a-new-table",children:"2.3. Creating a New Table"}),"\n",(0,a.jsx)(t.p,{children:"drop table if exists weather;\nCREATE TABLE if not exists weather (\ncity varchar(80),\ntemp_lo int,\ntemp_hi int,\nprcp real,\ncur_date date\n);"}),"\n",(0,a.jsx)(t.p,{children:"\\d weather;"}),"\n",(0,a.jsx)(t.h2,{id:"24-populating-a-table-with-rows",children:"2.4. Populating a Table With Rows"}),"\n",(0,a.jsx)(t.p,{children:"INSERT INTO weather VALUES ('San Francisco', 1, 50, 0.25, '1994-11-27');\nINSERT INTO weather VALUES ('New York', 2, 50, 0.25, '1994-11-27');\nselect * from weather;\ncopy weather from '/var/lib/pgsql/scripts/weather.txt';\nselect * from weather;\ncopy weather to '/var/lib/pgsql/scripts/weather.copy.txt';"}),"\n",(0,a.jsx)(t.h2,{id:"25-querying-a-table",children:"2.5. Querying a Table"}),"\n",(0,a.jsx)(t.p,{children:"CREATE TABLE cities (\nname            varchar(80),\nlocation        point\n);"}),"\n",(0,a.jsx)(t.h2,{id:"24-populating-a-table-with-rows-1",children:"2.4. Populating a Table With Rows"}),"\n",(0,a.jsx)(t.p,{children:"INSERT INTO cities VALUES ( 'San Francisco', '(-122.4194, 37.7794)');\nINSERT INTO cities VALUES ( 'New York', '(-74.0060, 40.7128)');"}),"\n",(0,a.jsx)(t.p,{children:"\\echo select * from cities;\nselect * from cities;"}),"\n",(0,a.jsx)(t.p,{children:"\\dt basics.*"}),"\n",(0,a.jsx)(t.p,{children:"\\d basics.*"}),"\n",(0,a.jsx)(t.p,{children:"\\echo -- 2.5. Querying a Table"}),"\n",(0,a.jsx)(t.p,{children:"\\echo select * from weather;\nselect * from weather;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo SELECT city, temp_lo, temp_hi, prcp, cur_date FROM weather;\nSELECT city, temp_lo, temp_hi, prcp, cur_date FROM weather;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo You can write expressions, not just simple column references, in the select list. For example, you can do\n\\echo SELECT city, (temp_hi+temp_lo)/2 AS temp_avg, cur_date FROM weather;\n\\echo"}),"\n",(0,a.jsx)(t.p,{children:"SELECT city, (temp_hi+temp_lo)/2 AS temp_avg, cur_date FROM weather;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo A query can be \u201cqualified\u201d by adding a WHERE clause that specifies which rows are wanted. The WHERE clause contains a Boolean (truth value) expression, and only rows for which the Boolean expression is true are returned. The usual Boolean operators (AND, OR, and NOT) are allowed in the qualification"}),"\n",(0,a.jsx)(t.p,{children:"\\echo\n\\echo SELECT * FROM weather WHERE city = 'San Francisco' AND prcp > 0.0;\nSELECT * FROM weather WHERE city = 'San Francisco' AND prcp > 0.0;"}),"\n",(0,a.jsx)(t.p,{children:"SELECT * FROM weather WHERE city NOT = 'San Francisco' ;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo You can request that the results of a query be returned in sorted order:\n\\echo"}),"\n",(0,a.jsx)(t.p,{children:"\\echo SELECT * FROM weather ORDER BY city;\nSELECT * FROM weather ORDER BY city;\n--SELECT * FROM weather ORDER BY city DESC;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo In this example, the sort order isn't fully specified, and so you might get the San Francisco rows in either order. But you'd always get the results shown above if you do\n\\echo SELECT * FROM weather ORDER BY city, temp_lo;\nSELECT * FROM weather ORDER BY city desc, temp_lo desc;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo SELECT * FROM weather ORDER BY city desc, temp_lo desc;\nSELECT * FROM weather ORDER BY city desc, temp_lo desc;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo You can request that duplicate rows be removed from the result of a query:\n\\echo\n\\echo SELECT DISTINCT city FROM weather;\nSELECT DISTINCT city FROM weather;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo using NOT"}),"\n",(0,a.jsx)(t.p,{children:"\\echo select * from weather WHERE city NOT IN ('San Francisco', 'New York');\nselect * from weather WHERE city NOT IN ('San Francisco', 'New York');"}),"\n",(0,a.jsx)(t.p,{children:"\\echo\n\\echo --\n\\echo -- 2.6. Joins Between Tables\n\\echo select * from weather;\nselect * from weather;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo select * from cities;\nselect * from cities;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo\n\\echo -- return all the weather records together with the location of the associated city,"}),"\n",(0,a.jsx)(t.p,{children:"\\echo\n\\echo select * from weather join cities on city = name;\nselect * from weather join cities on city = name;"}),"\n",(0,a.jsx)(t.p,{children:"\\echo\n\\echo select * from weather inner join cities on city = name;\nselect * from weather inner join cities on city = name;"})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>r});var i=n(6540);const a={},s=i.createContext(a);function c(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);